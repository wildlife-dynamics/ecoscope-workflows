context:
  name: ecoscope-workflows
  version: HEAD

package:
  name: ecoscope-workflows
  version: ${{ version }}

source:
  git: .  # relative to invocation, which is from repo root
  depth: 1

build:
  python:
    entry_points:
      - ecoscope-workflows = ecoscope_workflows.__main__:main
  noarch: python
  script: pip install . -v
  number: 1

requirements:
  host:
    - python
    - setuptools >=45
    - setuptools-scm >=6.2
    - pip
  run:
    - python
    - jinja2
    - pandera
    - pydantic
    - pydantic-settings
    - ruamel.yaml
    - ruff
    - tomli-w
    # optionals that we want for deployment
    - lithops
    - cloudpathlib-gs
    - ecoscope==v1.8.2

tests:
  - python:
      imports:
        - ecoscope_workflows

about:
  license: BSD-3-Clause
  license_file: LICENSE

extra:
  recipe-maintainers:
    - cisaacstern
